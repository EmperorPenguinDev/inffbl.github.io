(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Z5CE:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[profile]",function(){return n("xd0G")}])},xd0G:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return Z}));var r=n("ERkP"),i=n.n(r),o=n("98R4"),c=n("Nhdc"),a=function(e){return new Blob([e]).size>6e3},u=function(e){return JSON.stringify(e.map(encodeURIComponent))},s=function(e){for(;5500<new Blob([u(e)]).size;)e.shift();return e},f=function(e){return e.split("; ").find((function(e){return e.includes("visited_profiles")}))||""},l=function(e){var t=f(e);if(0===t.length)return[];var n=decodeURIComponent(t.replace("".concat("visited_profiles","="),""));return JSON.parse(n)},d=function(e,t){return!(e.indexOf(t)>0)},p=function(e,t){return e.concat(t)},v=function(e,t){var n=new Date;n.setDate(n.getDate()+30);var r=t?"secure;":"";return"visited_profiles=".concat(u(e),"; ").concat(r," expires=").concat(n.toUTCString())},b=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(r.useEffect)((function(){var n=[],r=f(document.cookie);d(r,e)&&(n=l(document.cookie),n=p(n,e),a(r)&&(n=s(n)),document.cookie=v(n,t))}),[])},O=n("EzOB"),g=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(r.useEffect)((function(){var n=t?"secure":"";Object(O.a)(document.cookie).initial_referrer||(document.cookie="initial_referrer=/".concat(e,"; ").concat(n,";"))}),[])},w=n("VtSi"),k=n.n(w),m=n("QsI/"),j=n("ggb3"),h=n.n(j);var I=n("zjfJ"),_=n("ziqx"),y=n("FFvb"),P=n("BcgO"),x=n.n(P),E=n("0D0S"),S={endpoint:n.n(E)()().publicRuntimeConfig.IDENTITY_API_ENDPOINT},T=function(e){x.a.push(e,S)},C=function(){return new Promise((function(e){var t=0,n=setInterval((function(){var r=Object(O.a)(document.cookie).browserId;r&&36===r.length&&(clearInterval(n),e(r)),t>30&&(clearInterval(n),e(void 0)),t++}),100)}))},D=n("fN3Q");function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(e,t){return e.find((function(e){return e.id.toString()===t.toString()}))},V=function(e,t){return e.findIndex((function(e){return e.id.toString()===t.toString()}))+1},R=function(){var e=Object(m.a)(k.a.mark((function e(t,n,r){var i,o,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(_.b)(t),o=U(t.links,r),e.next=4,C();case 4:return c=e.sent,e.abrupt("return",{browserId:c,page_state:i,link_state:N(N({},i),{},{position:V(t.links,r)}),url:window.location.href,account_id:t.id,title:null===o||void 0===o?void 0:o.title,referrer:n.referrer});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),F=function(e,t,n){var r,i,o,c=U(e.links,n);return{eventType:P.EventType.PROFILE__LINK_CLICKED,context:Object(_.a)(),data:{linkId:null!==(r=null===c||void 0===c?void 0:c.id.toString())&&void 0!==r?r:"",visitedAccountId:e.id.toString(),meta:Object(_.c)(e,n.toString()),title:null!==(i=null===c||void 0===c?void 0:c.title)&&void 0!==i?i:"",referrer:t.referrer,clickedLinkUrl:null!==(o=(null===c||void 0===c?void 0:c.url)||(null===c||void 0===c?void 0:c.formattedUrl))&&void 0!==o?o:"",clientClickId:Object(D.v4)()}}},q=function(){var e=Object(m.a)(k.a.mark((function e(t,n,r){var i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(F(t,n,r)),e.next=4,R(t,n,r);case 4:i=e.sent,Object(y.a)(r.toString(),i).catch(console.error),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to send link click event",{error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),z=function(){var e=Object(m.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return r=e.sent,e.abrupt("return",{browserId:r,username:t.username,account_id:t.id,page_state:Object(_.b)(t),referrer:n.referrer});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(e,t){return{eventType:P.EventType.PROFILE__VIEWED,context:Object(_.a)(),data:{meta:Object(_.d)(e),referrer:t.referrer,visitedAccountId:e.id.toString()}}},J=function(){var e=Object(m.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(A(t,n)),e.next=3,z(t,n);case 3:r=e.sent,Object(y.c)(r).catch(console.error);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=(n("Dj0C"),function(e){return"/api/profiles/integration/".concat(e,"/subscribe")});function G(e,t){return K.apply(this,arguments)}function K(){return(K=Object(m.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.post(B(t),{value:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t){var n,r,i=e.find((function(e){return e.id.toString()===t.toString()}));i&&(n="linkClick",r={destination:i.formattedUrl,title:i.title},"undefined"!==typeof window.fbq&&window.fbq("trackCustom",n,r))}var X=i.a.createElement,Z=!0;t.default=function(e){var t=e.theme,n=e.username,a=e.pageTitle,u=e.metaTitle,s=e.metaDescription,f=e.description,l=e.profilePictureUrl,d=e.links,p=e.leapLink,v=e.socialLinks,O=e.integrations,w=e.account,j=e.isProfileVerified,I=e.hasConsentedToView,_=e.isOwner,y=e.isLogoVisible;g(n),b(n),Object(r.useEffect)((function(){J(w,document)}),[]);var P=Object(m.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.post("/api/profiles/user/request-verification"));case 1:case"end":return e.stop()}}),e)})));return X(i.a.Fragment,null,X(c.b,{leapLink:p,pageTitle:a,username:n,title:u,metaDescription:s,profilePictureUrl:l,facebookPixelId:w.facebookPixelId,googleAnalyticsId:w.googleAnalyticsId}),X(o.j,{global:{username:n}},X(o.t,null,X(c.c,{links:d,socialLinks:v,integrations:O,onSubscribe:G,onRequestVerification:P,onLinkClick:function(e){setTimeout((function(){Q(w.links,e),q(w,document,e)}),100)},isProfileVerified:j,description:f,isOwner:_,account:w,leapLink:p,profilePictureUrl:l,pageTitle:a,hasConsentedToView:I,isLogoVisible:y,theme:t}))))}}},[["Z5CE",1,2,7,6,0,4,5]]]);